# Mission B - 3 Bit LED Counter  
ì„¸ ê°œì˜ LEDë¥¼ ì´ì§„ìˆ˜ í˜•íƒœë¡œ ì œì–´í•´ì„œ, 0ë¶€í„° 7ê¹Œì§€ì˜ ê°’ì„ 1sec ê°„ê²©ìœ¼ë¡œ ë°˜ë³µì ìœ¼ë¡œ í‘œí˜„í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

ì¦‰, 000ë¶€í„° 111ê¹Œì§€, 3ë¹„íŠ¸ ì´ì§„ìˆ˜ ì¹´ìš´í„°ë¥¼ LEDë¡œ êµ¬í˜„í•˜ëŠ” ê³¼ì œì…ë‹ˆë‹¤.

![Assignment](../Images/3_Bits_Counter_Mission.png)

---

## ğŸ“˜ ê°œìš”

3 Bit LED Counterë¥¼ êµ¬í˜„í•˜ëŠ” ê³¼ì œì…ë‹ˆë‹¤.  
Bash ìŠ¤í¬ë¦½íŠ¸(`3_Bit_Counter.sh`)ë¥¼ ì‘ì„±í•˜ì—¬ 3ê°œì˜ LEDë¥¼ í†µí•´ 0ë¶€í„° 7ê¹Œì§€ ìˆ«ìë¥¼ ì´ì§„ìˆ˜ë¡œ í‘œí˜„í•©ë‹ˆë‹¤.

---

## ğŸ§  í”„ë¡œì íŠ¸ ì„¤ëª…

ì´ í”„ë¡œì íŠ¸ëŠ” **Raspberry Piì˜ GPIO í•€**ê³¼ **bash ìŠ¤í¬ë¦½íŠ¸**ë¥¼ ì´ìš©í•˜ì—¬  
ìˆ«ì 0ë¶€í„° 7ê¹Œì§€ì˜ ê°’ì„ 3ê°œì˜ LEDë¡œ ì´ì§„ìˆ˜ í˜•íƒœë¡œ ì¶œë ¥í•˜ëŠ” ì¹´ìš´í„° ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´ 3ê°œì˜ LEDê°€ í˜„ì¬ ìˆ«ìë¥¼ ì´ì§„ìˆ˜ë¡œ ë‚˜íƒ€ë‚´ë©°,  
1ì´ˆë§ˆë‹¤ ìˆ«ìê°€ 1ì”© ì¦ê°€í•˜ë©´ì„œ LED ìƒíƒœê°€ ë°”ë€ë‹ˆë‹¤.

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

- ğŸ”¢ 0 ~ 7 ìˆ«ì ì¹´ìš´íŒ…
- â±ï¸ 1ì´ˆ ê°„ê²© ìë™ ì ë“±
- ğŸ’¡ ì´ì§„ìˆ˜ LED ì¶œë ¥ (3ê°œ LEDë¡œ í‘œí˜„)
- ğŸ§° Raspberry Pi GPIO í•€ ì œì–´

---

## ğŸ”§ ê¸°ìˆ  êµ¬ì„±

- **Raspberry Pi** â€“ GPIO í•€ ì œì–´
- **bash script** â€“ ì œì–´ìš© ìŠ¤í¬ë¦½íŠ¸ ì–¸ì–´

---

## ğŸ”Œ íšŒë¡œ êµ¬ì„± ì„¤ëª…

- ê° LEDëŠ” **330Î© ì €í•­**ì„ ê±°ì³ ë¸Œë ˆë“œë³´ë“œì˜ **GNDì— ì—°ê²°**
- Raspberry Piì˜ GPIO í•€ì´ **HIGH(dh)** ìƒíƒœê°€ ë˜ë©´ ì „ë¥˜ê°€ íë¥´ë©° LEDê°€ ì ë“±ë¨
- pinctrl ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ í•€ì„ ì œì–´

---

## ğŸ“Œ í•€ êµ¬ì„± ë° ì—­í• 

| í•€ ë²ˆí˜¸    | ì—­í•              | ì„¤ëª…                            |
|------------|------------------|---------------------------------|
| GPIO 17    | LSB (1ì˜ ìë¦¬)   | ê°€ì¥ ì‘ì€ ë¹„íŠ¸ë¥¼ ì œì–´í•˜ëŠ” LED |
| GPIO 22    | Middle (2ì˜ ìë¦¬)| ì¤‘ê°„ ë¹„íŠ¸ë¥¼ ì œì–´í•˜ëŠ” LED       |
| GPIO 27    | MSB (4ì˜ ìë¦¬)   | ê°€ì¥ í° ë¹„íŠ¸ë¥¼ ì œì–´í•˜ëŠ” LED   |

---

## ğŸ’» ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œ

```
#!/usr/bin/env bash
# ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ì‹œ ì‹œìŠ¤í…œì˜ í™˜ê²½ ë³€ìˆ˜(PATH)ì—ì„œ bash ì¸í„°í”„ë¦¬í„°ë¥¼ ìë™ìœ¼ë¡œ ì°¾ì•„ ì‹¤í–‰í•©ë‹ˆë‹¤.
# ì‹œìŠ¤í…œì— ë”°ë¼ bash ê²½ë¡œê°€ ë‹¤ë¥¼ ìˆ˜ ìˆì–´, ì´ ë°©ë²•ì€ í˜¸í™˜ì„±ì´ ë†’ì€ portable ë°©ì‹ì…ë‹ˆë‹¤.

# ============================================
# 1. GPIO í•€ ë²ˆí˜¸ ì„¤ì •
# ============================================
# ì‚¬ìš©í•  GPIO í•€ ë²ˆí˜¸ë¥¼ ê°ê°ì˜ ë³€ìˆ˜ë¡œ ì €ì¥í•©ë‹ˆë‹¤.
# ê° í•€ì€ ì´ì§„ìˆ˜ì˜ ê° ë¹„íŠ¸ ì—­í• ì„ í•©ë‹ˆë‹¤.
# ì˜ˆ: value = 5 â†’ 101 â†’ GPIO 22, 27, 17 ìˆœìœ¼ë¡œ LED ON/OFF ê²°ì •
gpio_bit0=17  # LSB (1ì˜ ìë¦¬)
gpio_bit1=27  # Middle bit (2ì˜ ìë¦¬)
gpio_bit2=22  # MSB (4ì˜ ìë¦¬)

# ============================================
# 2. GPIO í•€ ì¶œë ¥ ëª¨ë“œ ì„¤ì • í•¨ìˆ˜
# ============================================
# LEDë¥¼ ì¼œê³  ë„ê¸° ìœ„í•´ GPIO í•€ì„ ì¶œë ¥ ëª¨ë“œë¡œ ì„¤ì •í•©ë‹ˆë‹¤.
initialize_pins() {
    for pin in $gpio_bit0 $gpio_bit1 $gpio_bit2; do
        pinctrl set "$pin" op || {
            echo "[ERROR] GPIO $pin ì¶œë ¥ ëª¨ë“œ ì„¤ì • ì‹¤íŒ¨"
            exit 1
        }
    done
}

# ============================================
# 3. ì¢…ë£Œ ì‹œ ëª¨ë“  LEDë¥¼ ë„ëŠ” í•¨ìˆ˜
# ============================================
# Ctrl+C (SIGINT) ë˜ëŠ” ì¢…ë£Œ ì‹œê·¸ë„(SIGTERM)ì„ ê°ì§€í–ˆì„ ë•Œ í˜¸ì¶œë©ë‹ˆë‹¤.
# ëª¨ë“  LEDë¥¼ OFF(dl) ìƒíƒœë¡œ ë§Œë“  í›„ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¢…ë£Œí•©ë‹ˆë‹¤.
stop_to_ctrlC() {
    echo "LED ë„ëŠ” ì¤‘..."
    pinctrl set $gpio_bit0 dl
    pinctrl set $gpio_bit1 dl
    pinctrl set $gpio_bit2 dl
    exit 0
}

# ============================================
# 4. ì¢…ë£Œ ì‹œê·¸ë„ ê°ì§€ ì„¤ì •
# ============================================
# ì‚¬ìš©ìê°€ Ctrl+Cë¥¼ ëˆ„ë¥´ê±°ë‚˜ ì‹œìŠ¤í…œì—ì„œ SIGINT, SIGTERM ì‹œê·¸ë„ì„ ë³´ë‚¼ ê²½ìš°,
# ìœ„ì—ì„œ ì •ì˜í•œ stop_to_ctrlC í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ LEDë¥¼ ë„ê³  ì•ˆì „í•˜ê²Œ ì¢…ë£Œí•©ë‹ˆë‹¤.
trap stop_to_ctrlC SIGINT SIGTERM

# ============================================
# 5. ì´ˆê¸°í™”: GPIO í•€ì„ ì¶œë ¥ ëª¨ë“œë¡œ ì„¤ì •
# ============================================
initialize_pins

# ============================================
# 6. ë©”ì¸ ë£¨í”„: 0ë¶€í„° 7ê¹Œì§€ ë°˜ë³µí•˜ë©° 3ë¹„íŠ¸ ì´ì§„ìˆ˜ ì¶œë ¥
# ============================================
while true; do
    for value in {0..7}; do
        # ====================================
        # 6-1. ë¹„íŠ¸ ë¶„í•´
        # value(0~7)ë¥¼ ì´ì§„ìˆ˜ë¡œ ë¶„í•´í•´ì„œ ê° ìë¦¬ ë¹„íŠ¸ë¥¼ êµ¬í•©ë‹ˆë‹¤.
        # ë¹„íŠ¸ ì—°ì‚°: ì‹œí”„íŠ¸(>>) í›„ AND(& 1)ë¡œ íŠ¹ì • ìë¦¿ìˆ˜ë§Œ ì¶”ì¶œ
        # ì˜ˆ: value=6 â†’ 110 â†’ bit2=1, bit1=1, bit0=0
        # ====================================
        bit0=$(( (value >> 0) & 1 ))  # LSB (1ì˜ ìë¦¬)
        bit1=$(( (value >> 1) & 1 ))  # Middle (2ì˜ ìë¦¬)
        bit2=$(( (value >> 2) & 1 ))  # MSB (4ì˜ ìë¦¬)

        # ====================================
        # 6-2. LED ì œì–´
        # ê° ë¹„íŠ¸ì˜ ê°’ì´ 1ì´ë©´ í•´ë‹¹ í•€ì„ HIGH(dh), ì•„ë‹ˆë©´ LOW(dl)ë¡œ ì„¤ì •
        # ====================================
        pinctrl set $gpio_bit0 $( [ $bit0 -eq 1 ] && echo dh || echo dl )
        pinctrl set $gpio_bit1 $( [ $bit1 -eq 1 ] && echo dh || echo dl )
        pinctrl set $gpio_bit2 $( [ $bit2 -eq 1 ] && echo dh || echo dl )

        # 6-3. 1ì´ˆ ëŒ€ê¸° í›„ ë‹¤ìŒ ìˆ«ìë¡œ
        sleep 1
    done
done
```

![ë¹„íŠ¸ ì‹œí”„íŠ¸ & AND ì—°ì‚°](../Images/BitShifte_Running.png)


| ê°’ (10ì§„ìˆ˜) | ì´ì§„ìˆ˜ | GPIO 17 (bit2) | GPIO 27 (bit1) | GPIO 22 (bit0) |
|-------------|--------|----------------|----------------|----------------|
| 0           | `000`  | âš« OFF          | âš« OFF          | âš« OFF          |
| 1           | `001`  | âš« OFF          | âš« OFF          | ğŸ”´ ON           |
| 2           | `010`  | âš« OFF          | ğŸ”´ ON           | âš« OFF          |
| 3           | `011`  | âš« OFF          | ğŸ”´ ON           | ğŸ”´ ON           |
| 4           | `100`  | ğŸ”´ ON           | âš« OFF          | âš« OFF          |
| 5           | `101`  | ğŸ”´ ON           | âš« OFF          | ğŸ”´ ON           |
| 6           | `110`  | ğŸ”´ ON           | ğŸ”´ ON           | âš« OFF          |
| 7           | `111`  | ğŸ”´ ON           | ğŸ”´ ON           | ğŸ”´ ON           |



